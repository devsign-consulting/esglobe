<script>
  $(document).ready(function () {
    sph.emitter.subscribe('esglobe:sphereClick', function(data) {
      console.log("emitter: esglobe:sphereClick", data);
      sph.plugins.drawLon(data.latlon)
    });

    sph.emitter.subscribe('esglobe:mousePressed', function(data) {
      console.log("emitter: esglobe:mousePressed", data);
    });

    sph.emitter.subscribe('esglobe:mouseDragged', function(data) {
      // console.log("emitter: esglobe:mouseDragged", data);
    });

    sph.emitter.subscribe('esglobe:mouseReleased', function(data) {
      console.log("emitter: esglobe:mouseReleased", data);
    });
  });
</script>

{{includeModules menu}}

<div class="container-fluid">
  <div id="canvas-container" class="col-xs-7 no-gutter">
    <div class="widget widget-top-left" id="topLeft"></div>
    <div class="widget widget-top-right" id="topRight"></div>
    <div class="widget widget-bottom-left" id="bottomLeft"></div>
    <div class="widget widget-bottom-right" id="bottomRight"></div>
  </div>
  <div class="col-xs-5 container-input no-gutter">
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <ul class="nav navbar-nav">
          {{#each menu}}
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" {{#if module}}id="esmodule-{{module}}"{{/if}} data-toggle="dropdown">{{name}} {{#if subMenu}}<span class="caret"></span>{{/if}}</a>
              {{#if subMenu}}
                <ul class="dropdown-menu" role="menu">
                  {{#each subMenu}}
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" {{#if module}}id="esmodule-{{module}}"{{/if}} data-toggle="dropdown">{{name}}</a>
                  </li>
                  {{/each}}
                </ul>
              {{/if}}
            </li>
          {{/each}}
        </ul>
      </div>
    </nav>
    <div id="esglobe-menu-frame"></div>
  </div>
</div>
